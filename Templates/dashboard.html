<!-- templates/dashboard.html -->
{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}
<h1>Welcome, {{ user_name }}!</h1>

<div class="card">
  <h2>Your Invites</h2>
  {% if invites %}
  {% for invite in invites %}
  <div class="invite">
    <h3>{{ invite['event_name'] }}</h3>
    <p>Status: <span class="status {{ invite['status']|lower }}">{{ invite['status'] }}</span></p>
    {% if invite['status'] == 'Pending' %}
    <a href="/respond-invite/{{ invite['invite_id'] }}/Attending" class="btn">Accept</a>
    <a href="/respond-invite/{{ invite['invite_id'] }}/Declined" class="btn"
      style="background-color: var(--danger-color);">Decline</a>
    {% endif %}
  </div>
  {% endfor %}
  {% else %}
  <p>No invites yet.</p>
  {% endif %}
</div>

<div class="card">
  <h2>Your Events</h2>
  <ul>
    {% for event in user_events %}
    <li><a href="/event/{{ event['event_id'] }}">{{ event['name'] }}</a></li>
    {% endfor %}
  </ul>
</div>

<div class="card">
  <a href="/create-event" class="btn">Create New Event</a>
  <a href="/vendors" class="btn">View Vendors</a>
</div>
{% endblock %}